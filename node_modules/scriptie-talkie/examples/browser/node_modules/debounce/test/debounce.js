
var debounce = require('../debounce');

describe('debounce', function(){
  it('should work', function(done){
    var counter = 0;
    var deb = debounce(function(){
      counter++;
    }, 10);
    deb();
    deb();
    setTimeout(function(){
      deb();
      deb();
      setTimeout(function(){
        deb();
        deb();
        counter.should.eql(2);
        done();
      }, 15);
    }, 15);
  });

  it('should work (immediate mode)', function(){
    var counter = 0;
    var deb = debounce(function(){
      counter++;
    }, 10, true);
    deb();
    deb();
    setTimeout(function(){
      deb();
      deb();
      setTimeout(function(){
        deb();
        deb();
        counter.should.eql(3);
        done();
      }, 15);
    }, 15);
  });
});
